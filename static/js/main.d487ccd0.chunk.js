(this.webpackJsonpmyproject=this.webpackJsonpmyproject||[]).push([[0],{122:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(38),a=n(5),c="myProject/dialogsPage/ADD-MESSAGE",i={dialogsData:[{id:1,name:"\u0418\u0432\u0430\u043d"},{id:2,name:"\u0410\u043d\u0442\u043e\u043d"},{id:3,name:"\u0410\u043d\u043d\u0430"},{id:4,name:"\u041a\u0441\u0435\u043d\u0438\u044f"},{id:5,name:"\u041d\u0438\u043a\u0438\u0442\u0430"}],messagesData:[{id:1,message:"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u04351"},{id:2,message:"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u04352"},{id:3,message:"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u04353"},{id:4,message:"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u04354"}],newMessageBody:[""]},s=function(e){return{type:c,newMessageBody:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={id:5,message:t.newMessageBody};return Object(a.a)(Object(a.a)({},e),{},{messagesData:[].concat(Object(r.a)(e.messagesData),[n])});default:return e}}},127:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return P})),n.d(t,"b",(function(){return S}));var r=n(13),a=n.n(r),c=n(25),i=n(38),s=n(5),o=n(15),u=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(s.a)(Object(s.a)({},e),r):e}))},l="myProject/usersPage/FOLLOW",d="myProject/usersPage/UNFOLLOW",j="myProject/usersPage/SETUSERS",f="myProject/usersPage/SET_CURRENT_PAGE",b="myProject/usersPage/SET_TOTAL_USERS_COUNT",p="myProject/usersPage/TOGGLE_IS_FETCHING",O="myProject/usersPage/TOGGLE_IS_FOLLOWING_PROGRESS",h={users:[],pageSize:10,totalUsersCount:100,currentPage:1,isFetching:!1,followingInProgress:[]},g=function(e){return{type:l,userId:e}},m=function(e){return{type:d,userId:e}},v=function(e){return{type:f,pageNumber:e}},x=function(e){return{type:p,isFetching:e}},y=function(e,t){return{type:O,followingInProgress:e,userId:t}},w=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(!0)),r(v(e)),n.next=4,o.a.getUsers(e,t);case 4:c=n.sent,r((i=c.items,{type:j,users:i})),r((a=c.totalCount,{type:b,totalCount:a})),r(x(!1));case 8:case"end":return n.stop()}var a,i}),n)})));return function(e){return n.apply(this,arguments)}}()},_=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(c(n)),t(y(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),P=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=o.a.unfollow.bind(o.a),_(n,e,r,m);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=o.a.follow.bind(o.a),_(n,e,r,g);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(s.a)(Object(s.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!0})});case d:return Object(s.a)(Object(s.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!1})});case j:return Object(s.a)(Object(s.a)({},e),{},{users:t.users});case f:return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.pageNumber});case b:return Object(s.a)(Object(s.a)({},e),{},{totalUsersCount:t.totalCount});case p:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case O:return Object(s.a)(Object(s.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},128:function(e,t,n){e.exports={nav:"Navbar_nav__2LBLK"}},14:function(e,t,n){e.exports={item:"Navigation_item__2Zr1w",active:"Navigation_active__1XkUT"}},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(131),a=r.create({withCredentials:!0,headers:{"API-KEY":"91d99155-0a12-4a98-9006-bb452c7fea31"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),c={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e)).then((function(e){return e}))},unfollow:function(e){return a.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return a.get("profile/"+e).then((function(e){return e.data}))},getAuthMe:function(){return a.get("auth/me").then((function(e){return e.data}))},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status",{status:e})},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}}},165:function(e,t,n){},166:function(e,t,n){},174:function(e,t){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),i=n(61),s=n.n(i),o=(n(165),n(48)),u=n(49),l=n(51),d=n(50),j=(n(166),n(14)),f=n.n(j),b=n(17);var p=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:f.a.item,children:Object(r.jsx)(b.b,{activeClassName:f.a.active,to:"/profile",children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(r.jsx)("div",{className:f.a.item,children:Object(r.jsx)(b.b,{activeClassName:f.a.active,to:"/dialogs",children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"})}),Object(r.jsx)("div",{className:f.a.item,children:Object(r.jsx)(b.b,{activeClassName:f.a.active,to:"/users",children:"\u041b\u044e\u0434\u0438"})}),Object(r.jsx)("div",{className:f.a.item,children:Object(r.jsx)(b.b,{activeClassName:f.a.active,to:"/news",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(r.jsx)("div",{className:f.a.item,children:Object(r.jsx)(b.b,{activeClassName:f.a.active,to:"/music",children:"\u041c\u0443\u0437\u044b\u043a\u0430"})}),Object(r.jsx)("div",{className:f.a.item,children:Object(r.jsx)(b.b,{activeClassName:f.a.active,to:"/setting",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(r.jsx)("div",{className:f.a.item,children:Object(r.jsx)(b.b,{activeClassName:f.a.active,to:"/target",children:"\u0426\u0435\u043b\u0438"})})]})},O=n(128),h=n.n(O);n(174);var g=function(e){return Object(r.jsx)("nav",{className:h.a.nav,children:Object(r.jsx)(p,{})})},m=n(10);n(175);var v=function(){return Object(r.jsx)("div",{children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})};n(176);var x=function(){return Object(r.jsx)("div",{children:"\u041c\u0443\u0437\u044b\u043a\u0430"})};n(177);var y=function(){return Object(r.jsx)("div",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})},w=n(124),_=n(125),P=n(62),S=n(69),C=n(21),N=n(13),E=n.n(N),k=n(25),I=n(5),L=n(15),T=n(52),A="myProject/auth/SET_USER_DATA",D={id:null,email:null,login:null,isAuth:!1},F=function(e,t,n,r){return{type:A,data:{id:e,login:t,email:n,isAuth:r}}},U=function(){return function(){var e=Object(k.a)(E.a.mark((function e(t){var n,r,a,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.getAuthMe();case 2:0===(n=e.sent).resultCode&&(r=n.data,a=r.id,c=r.login,i=r.email,t(F(a,c,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){return function(){var e=Object(k.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.logout();case 2:0===e.sent.data.resultCode&&t(F(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(I.a)(Object(I.a)({},e),t.data);default:return e}},R=n(33),z=n.n(R),G=Object(_.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)(w.a,{type:"text",name:"email",component:P.a,pleaseholder:"Email",validate:[S.b]})}),Object(r.jsx)("div",{children:Object(r.jsx)(w.a,{type:"password",name:"password",component:P.a,pleaseholder:"\u041f\u0430\u0440\u043e\u043b\u044c",validate:[S.b]})}),Object(r.jsx)("div",{children:Object(r.jsx)(w.a,{type:"checkbox",name:"rememberMe",component:P.a})}),n&&Object(r.jsx)("div",{className:z.a.formSummaryError,children:n}),Object(r.jsx)(w.a,{component:"button",name:"buttonLogin",children:"Login"})]})})})),W=Object(C.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(k.a)(E.a.mark((function r(a){var c,i,s;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L.a.login(e,t,n);case 2:0===(c=r.sent).data.resultCode?a(U()):(i=c.data.messages.length>0?c.data.messages[0]:"Some erroe",s=Object(T.a)("login",{_error:i}),a(s));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},logout:B})((function(e){return e.isAuth?Object(r.jsx)(m.a,{to:"/profile"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(r.jsx)(G,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),X=(n(295),function(e){return Object(r.jsx)("div",{children:"\u0426\u0435\u043b\u0438"})}),H="SET_INITIALIZED",J={initialized:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(I.a)(Object(I.a)({},e),{},{initialized:!0});default:return e}},Y=n(92),Z=n(9),V=n(122),q=n(91),Q={friends:[{id:1,name:"\u0410\u043d\u044f",avatar:"https://i.pinimg.com/originals/cf/67/b2/cf67b21b83d577a1b5a223a468f8754d.jpg"},{id:2,name:"\u0412\u0430\u043d\u044f",avatar:"https://i.pinimg.com/originals/cf/67/b2/cf67b21b83d577a1b5a223a468f8754d.jpg"},{id:3,name:"\u041c\u0438\u0448\u0430",avatar:"https://i.pinimg.com/originals/cf/67/b2/cf67b21b83d577a1b5a223a468f8754d.jpg"}]},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;return t.type,e},ee=n(127),te=n(134),ne=n(126),re=Object(Z.c)({dialogsPage:V.b,profilePage:q.b,sidebar:$,usersPage:ee.a,auth:M,form:ne.a,app:K}),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,ce=Object(Z.e)(re,ae(Object(Z.a)(te.a))),ie=n(90),se=n.n(ie);var oe=function(e){return Object(r.jsxs)("header",{className:se.a.header,children:[Object(r.jsx)("img",{src:"https://cdn.worldvectorlogo.com/logos/tiktok-logo-2--1.svg"}),Object(r.jsx)("div",{className:se.a.loginBlock,children:e.isAuth?Object(r.jsxs)("div",{children:[e.login," - ",Object(r.jsx)("button",{onClick:e.logout,children:"logout"})]}):Object(r.jsx)(b.b,{to:"/Login",children:"Login"})})]})},ue=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)(oe,Object(I.a)({},this.props))}}]),n}(c.a.Component),le=Object(C.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:B})(ue),de=c.a.lazy((function(){return n.e(3).then(n.bind(null,306))})),je=c.a.lazy((function(){return n.e(5).then(n.bind(null,307))})),fe=c.a.lazy((function(){return n.e(4).then(n.bind(null,305))})),be=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(le,{}),Object(r.jsx)(g,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(m.b,{path:"/dialogs",render:function(){return Object(r.jsx)(c.a.Suspense,{fallback:Object(r.jsx)("div",{children:"Loading..."}),children:Object(r.jsx)(de,{})})}}),Object(r.jsx)(m.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(c.a.Suspense,{fallback:Object(r.jsx)("div",{children:"Loading..."}),children:Object(r.jsx)(fe,{})})}}),Object(r.jsx)(m.b,{path:"/users",render:function(){return Object(r.jsx)(c.a.Suspense,{fallback:Object(r.jsx)("div",{children:"Loading..."}),children:Object(r.jsx)(je,{})})}}),Object(r.jsx)(m.b,{path:"/news",render:function(){return Object(r.jsx)(v,{})}}),Object(r.jsx)(m.b,{path:"/music",render:function(){return Object(r.jsx)(x,{})}}),Object(r.jsx)(m.b,{path:"/setting",render:function(){return Object(r.jsx)(y,{})}}),Object(r.jsx)(m.b,{path:"/login",render:function(){return Object(r.jsx)(W,{})}}),Object(r.jsx)(m.b,{path:"/target",render:function(){return Object(r.jsx)(X,{})}})]})]}):Object(r.jsx)(Y.a,{})}}]),n}(c.a.Component),pe=Object(Z.d)(m.f,Object(C.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(U()).then((function(){e({type:H})}))}}}))(be),Oe=function(e){return Object(r.jsx)(b.a,{children:Object(r.jsx)(C.a,{store:ce,children:Object(r.jsx)(pe,{})})})},he=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,304)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Oe,{})}),document.getElementById("root")),he()},33:function(e,t,n){e.exports={formControl:"FormsControl_formControl__12CJf",error:"FormsControl_error__YXdRr",formSummaryError:"FormsControl_formSummaryError__10cB9"}},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(5),a=n(86),c=n(1),i=(n(0),n(33)),s=n.n(i),o=function(e){var t=e.input,n=e.meta,i=Object(a.a)(e,["input","meta"]),o=n.touched&&n.error;return Object(c.jsxs)("div",{className:s.a.formControl+" "+(o?s.a.error:""),children:[Object(c.jsx)("div",{children:Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({},t),i))}),o&&Object(c.jsx)("span",{children:n.error})]})},u=function(e){var t=e.input,n=e.meta,i=Object(a.a)(e,["input","meta"]),o=n.touched&&n.error;return Object(c.jsxs)("div",{className:s.a.formControl+" "+(o?s.a.error:""),children:[Object(c.jsx)("div",{children:Object(c.jsx)("input",Object(r.a)(Object(r.a)({},t),i))}),o&&Object(c.jsx)("span",{children:n.error})]})}},69:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e!"},a=function(e){return function(t){if(t.length>e)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!")}}},90:function(e,t,n){e.exports={header:"Header_header__1mWud",loginBlock:"Header_loginBlock__grukp"}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return b}));var r=n(38),a=n(5),c=n(15),i="ADD-POST",s="SET_USER_PROFILE",o="SET_STATUS",u={postsData:[{id:1,message:"\u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0441\u0442",like:100},{id:2,message:"\u0412\u0442\u043e\u0440\u043e\u0439 \u043f\u043e\u0441\u0442",like:200}],newPostBody:["\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440!!!"],profile:null,status:""},l=function(e){return{type:i,newPostBody:e}},d=function(e){return{type:o,status:e}},j=function(e){return function(t){c.a.getProfile(e).then((function(e){t({type:s,profile:e})}))}},f=function(e){return function(t){c.a.getStatus(e).then((function(e){t(d(e.data))}))}},b=function(e){return function(t){c.a.updateStatus(e).then((function(e){0===e.resultCode&&t(d(e.data))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n={id:5,message:t.newPostBody,like:0};return Object(a.a)(Object(a.a)({},e),{},{postsData:[].concat(Object(r.a)(e.postsData),[n]),newPostMessage:""});case s:return Object(a.a)(Object(a.a)({},e),{},{profile:t.profile});case o:return Object(a.a)(Object(a.a)({},e),{},{status:t.status});default:return e}}},92:function(e,t,n){"use strict";var r=n(1),a=n.p+"static/media/preloader.07a3b34f.gif";t.a=function(e){return Object(r.jsx)("img",{src:a})}}},[[296,1,2]]]);
//# sourceMappingURL=main.d487ccd0.chunk.js.map