{"version":3,"sources":["components/Dialogs/DialogList.module.css","components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/Messages/Message.module.css","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Messages/Message.jsx","components/Dialogs/DialogList.jsx","hoc/withAuthRederect.js","components/Dialogs/DialogListContainer.jsx"],"names":["module","exports","Dialog","props","className","s","dialog","to","id","activeClassName","active","name","Message","message","maxLength","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","newMessage","Field","component","Textarea","pleaseholder","validate","required","DialogList","dialogsElements","dialogsData","map","messagesElements","messagesData","isAuth","dialogList","dialogs","messages","values","newMessageBody","mapStateToPropsForRedirect","state","auth","compose","connect","newTextMessage","dialogsPage","dispatch","addMessageActionCreator","Component","RedirectComponent","this","React"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,WAAa,+BAA+B,SAAW,6BAA6B,QAAU,4BAA4B,OAAS,2BAA2B,WAAa,iC,oBCA7LD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,yB,oBCA3DD,EAAOC,QAAU,CAAC,QAAU,2B,wHCUbC,MARf,SAAgBC,GACZ,OACQ,qBAAKC,UAAWC,IAAEC,OAAlB,SACI,cAAC,IAAD,CAASC,GAAI,YAAcJ,EAAMK,GAAIC,gBAAiBJ,IAAEK,OAAxD,SAAiEP,EAAMQ,U,kBCIxEC,MARf,SAAiBT,GACb,OACQ,qBAAKC,UAAWC,IAAEQ,QAAlB,SACKV,EAAMU,W,0CCIjBC,EAAYC,YAAiB,IA4BnC,IAYaC,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAZZ,SAACd,GACpB,OACI,sBAAMgB,SAAUhB,EAAMiB,aAAtB,SACI,sBAAKhB,UAAWC,IAAEgB,WAAlB,UACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUb,KAAM,iBAAkBc,aAAc,oGAClEC,SAAU,CAACC,IAAUb,KACrB,oGAQDc,EAxCf,SAAoBzB,GAEhB,IAII0B,EAAkB1B,EAAM2B,YAAYC,KAAI,SAAAzB,GAAM,OAAI,cAAC,EAAD,CAAQK,KAAML,EAAOK,KAAMH,GAAIF,EAAOE,QACxFwB,EAAmB7B,EAAM8B,aAAaF,KAAI,SAAAlB,GAAO,OAAI,cAAC,EAAD,CAASA,QAASA,EAAQA,aAEnF,OAAqB,IAAjBV,EAAM+B,OACC,cAAC,IAAD,CAAU3B,GAAI,YAIrB,sBAAKH,UAAWC,IAAE8B,WAAlB,UACI,qBAAK/B,UAAWC,IAAE+B,QAAlB,SACKP,IAEL,qBAAKzB,UAAWC,IAAEgC,SAAlB,SACKL,IAEL,cAAChB,EAAD,CAAqBG,SAnBT,SAACmB,GACjBnC,EAAMkB,WAAWiB,EAAOC,uB,+CCV5BC,EAA6B,SAACC,GAAD,MAAY,CACzCP,OAAQO,EAAMC,KAAKR,S,OCkBRS,sBACXC,aAjBkB,SAACH,GACnB,MAAO,CACHI,eAAgBJ,EAAMK,YAAYD,eAClCf,YAAaW,EAAMK,YAAYhB,YAC/BG,aAAcQ,EAAMK,YAAYb,iBAIf,SAACc,GACtB,MAAO,CACH1B,WAAY,SAACkB,GACTQ,EAASC,YAAwBT,UDVb,SAACU,GAAe,IAEtCC,EAFqC,uKAInC,OAAIC,KAAKhD,MAAM+B,OACR,cAACe,EAAD,eAAeE,KAAKhD,QADG,cAAC,IAAD,CAAUI,GAAI,gBAJT,GAEX6C,IAAMH,WAOtC,OAAOL,YAAQJ,EAARI,CAAoCM,KCMhCP,CAIdf","file":"static/js/3.eb7fa851.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogList\":\"DialogList_dialogList__2FsNv\",\"messages\":\"DialogList_messages__3Ze_R\",\"dialogs\":\"DialogList_dialogs__2gFx5\",\"active\":\"DialogList_active__30UQr\",\"newMessage\":\"DialogList_newMessage__16yaW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__3RC6J\",\"active\":\"Dialog_active__6Cj-x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__2lF31\"};","import s from './Dialog.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Dialog(props) {\r\n    return (\r\n            <div className={s.dialog}>\r\n                <NavLink to={'/dialogs/' + props.id} activeClassName={s.active}>{props.name}</NavLink>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Dialog;","import s from './Message.module.css';\r\n\r\nfunction Message(props) {\r\n    return (\r\n            <div className={s.message}>\r\n                {props.message}\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './DialogList.module.css';\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport Message from \"./Messages/Message\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {Textarea} from \"../common/FormsControl/FormsControl\";\r\n\r\nconst maxLength = maxLengthCreator(50)\r\n\r\nfunction DialogList(props) {\r\n\r\n    let addNewMessage = (values) => {\r\n        props.newMessage(values.newMessageBody)\r\n    }\r\n\r\n    let dialogsElements = props.dialogsData.map(dialog => <Dialog name={dialog.name} id={dialog.id}/>);\r\n    let messagesElements = props.messagesData.map(message => <Message message={message.message}/>);\r\n\r\n    if (props.isAuth === false) {\r\n        return <Redirect to={\"./login\"}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogList}>\r\n            <div className={s.dialogs}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n            </div>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst addMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={s.newMessage}>\r\n                <Field component={Textarea} name={'newMessageBody'} pleaseholder={'Введите сообщение'}\r\n                validate={[required, maxLength]}/>\r\n                <button>Отправить</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(addMessageForm)\r\n\r\nexport default DialogList;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component{\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={\"./login\"}/>\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","import React, {Component} from 'react';\r\nimport {addMessageActionCreator, changeMessageActionCreator} from \"../../redux/DialogReducer\";\r\nimport DialogList from \"./DialogList\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRederect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        newTextMessage: state.dialogsPage.newTextMessage,\r\n        dialogsData: state.dialogsPage.dialogsData,\r\n        messagesData: state.dialogsPage.messagesData,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        newMessage: (newMessageBody) => {\r\n            dispatch(addMessageActionCreator(newMessageBody))\r\n        },\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)\r\n(DialogList)"],"sourceRoot":""}